# Fixpoint Environment Configuration
# Copy this file to .env and fill in the values

# ===================
# REQUIRED SETTINGS
# ===================

# GitHub Personal Access Token (self-hosted mode only)
# Not needed when using GitHub App - token is generated per installation
GITHUB_TOKEN=ghp_your_token_here

# Webhook secret for signature verification
# Self-hosted: generate with: python -c "import secrets; print(secrets.token_hex(32))"
# GitHub App: use the app's webhook secret from GitHub App settings
WEBHOOK_SECRET=your_webhook_secret_here

# ===================
# GITHUB APP (SaaS)
# ===================
# When using Fixpoint as a GitHub App, set these instead of GITHUB_TOKEN

# GitHub App ID (from app settings)
# GITHUB_APP_ID=12345

# Private key: PEM content or path to .pem file
# GITHUB_APP_PRIVATE_KEY=-----BEGIN RSA PRIVATE KEY-----\n...
# GITHUB_APP_PRIVATE_KEY_PATH=/path/to/private-key.pem

# App webhook secret (from GitHub App -> Developer settings -> Webhook)
# GITHUB_APP_WEBHOOK_SECRET=whsec_...

# ===================
# MODE SETTINGS
# ===================

# Fixpoint mode: "warn" (default) or "enforce"
# warn = comments only, no auto-commits
# enforce = auto-applies fixes and commits
FIXPOINT_MODE=warn

# ===================
# SERVER SETTINGS
# ===================

# Webhook server port (default: 8000)
PORT=8000

# Debug mode (set to false in production)
DEBUG=false

# Git operation timeout in seconds (default: 120)
GIT_TIMEOUT=120

# ===================
# OPTIONAL SETTINGS
# ===================

# Repository allowlist (comma-separated, empty = all allowed)
# ALLOWED_REPOS=owner/repo1,owner/repo2

# Repository denylist (comma-separated)
# DENIED_REPOS=owner/untrusted-repo

# Skip webhook signature verification (ONLY for local testing)
# NEVER set in production!
# SKIP_WEBHOOK_VERIFICATION=true

# Redis URL for distributed state (Phase 2)
# REDIS_URL=redis://localhost:6379/0

# ===================
# DASHBOARD (Phase 1)
# ===================
# OAuth for dashboard login (create OAuth App at https://github.com/settings/developers)
# GITHUB_OAUTH_CLIENT_ID=xxx
# GITHUB_OAUTH_CLIENT_SECRET=xxx
# DASHBOARD_SESSION_SECRET=  # Session cookie signing (generate with: python -c "import secrets; print(secrets.token_hex(32))")
# BASE_URL=https://fixpoint.dev  # For OAuth redirect_uri

# SQLite path (default: fixpoint.db in project root)
# FIXPOINT_DB_PATH=/data/fixpoint.db
